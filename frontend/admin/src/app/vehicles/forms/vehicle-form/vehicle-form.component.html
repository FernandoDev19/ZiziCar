<h1 class="text-gray-700 text-lg font-semibold mb-5">Crear nuevo vehículo</h1>
<form [formGroup]="vehicleForm">
  <div class="mb-5">
    <label for="name" class="text-gray-600 font-semibold">Nombre</label>
    <div class="flex">
      <span
        class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200"
      >
        <fa-icon [icon]="faCar"></fa-icon>
      </span>
      <input
        formControlName="name"
        id="name"
        type="text"
        placeholder="Ej. Chevrolet Onix"
        maxlength="50"
        class="form-input w-full border rounded-r-md py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    </div>
    @if (vehicleForm.get('name')?.invalid && vehicleForm.get('name')?.touched) {
    <div>
      @if (vehicleForm.get('name')?.errors?.['required']) {
      <small class="text-red-500">El nombre es requerido.</small>
      } @else if (vehicleForm.get('name')?.errors?.['maxlength']){
      <small class="text-red-500">El nombre es demasiado largo.</small>
      }
    </div>
    }
  </div>

  <div class="mb-5">
    <label for="doors" class="text-gray-600 font-semibold">Puertas</label>
    <div class="flex">
      <span
        class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200"
      >
      <fa-icon [icon]="faDoor"></fa-icon>
    </span>
    <input type="number" [class.is-invalid]="vehicleForm.get('doors')?.invalid && vehicleForm.get('doors')?.touched" formControlName="doors" id="doors" placeholder="Ej. 3" max="20" class="form-input w-full border rounded-r-md py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>
    @if (vehicleForm.get('doors')?.invalid && vehicleForm.get('doors')?.touched){
      @if(vehicleForm.get('doors')?.errors?.['required']){
        <small class="text-red-500">El campo es requerido</small>
      }
      @else if(vehicleForm.get('doors')?.errors?.['pattern']){
        <small class="text-red-500">El campo solo permite números positivos</small>
      }
      @else if(vehicleForm.get('doors')?.errors?.['max']){
        <small class="text-red-500">El número de puertas no puede ser mayor a 20</small>
      }
    }
  </div>

  <div class="mb-5">
    <label for="positions" class="text-gray-600 font-semibold">Puestos</label>
    <div class="flex">
      <span class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200">
        <fa-icon [icon]="faPositions"></fa-icon>
      </span>
      <input type="number" [class.is-invalid]="vehicleForm.get('positions')?.invalid && vehicleForm.get('positions')?.touched" formControlName="positions" id="positions" placeholder="Ej. 4" class="form-input w-full border rounded-r-md py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>
  </div>

  <div class="mb-5">
    <label for="generic_image" class="text-gray-600 font-semibold">Imagen generica</label>
    <div class="flex">
      <span
        class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200"
      >
        <fa-icon [icon]="faImage"></fa-icon>
      </span>
      <input type="file" id="generic_image" (change)="onFileChange($event)" [class.is-invalid]="genericImage?.invalid && genericImage?.touched" class="form-input w-full border rounded-r-md py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>
    @if(genericImage?.invalid && genericImage?.touched){
      @if(genericImage?.errors?.['required']){
        <small class="text-red-500">La imagen es requerida</small>
      }
    }
  </div>
</form>
