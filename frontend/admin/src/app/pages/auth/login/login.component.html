<div
  id="contenedor-vista-completa"
  class="flex flex-col justify-between w-full"
>
  <app-auth-header></app-auth-header>

  <div
    id="contenido-principal"
    class="container p-0 my-20 rounded-xl sm:flex justify-center mx-12 flex overflow-hidden"
  >
    <div class="flex flex-col justify-center">
      <div class="flex flex-col justify-center text-center mb-6">
        <h1 class="font-bold text-4xl mb-3">Iniciar Sesión</h1>
        <p class="text-gray-500 text-lg">
          Si ya eres aliado de ZiziCar Ingresa tu correo y contraseña
        </p>
      </div>

      <form class="mb-5" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="mb-5">
          <div class="flex">
            <span
              class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200"
            >
              <fa-icon [icon]="faUser"></fa-icon>
            </span>
            <input
              #emailInput
              formControlName="email"
              id="email"
              type="text"
              placeholder="Correo electrónico"
              class="form-input w-full border rounded-r-md py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
          </div>
          @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
          <div>
            @if (loginForm.get('email')?.errors?.['required']) {
            <small class="text-red-500"
              >El correo electrónico es requerido.</small
            >
            } @else if (loginForm.get('email')?.errors?.['email']){
            <small class="text-red-500"
              >Debe ser una dirección de correo electrónico válida.</small
            >
            }
          </div>
          }

          @if(messageError && messageError != ''){
            <small class="text-red-500">{{ messageError }}</small>
          }
        </div>

        <div class="mb-5">
          <div class="flex">
            <span
              class="inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-200"
            >
              <fa-icon [icon]="faKey"></fa-icon>
            </span>
            <input
              #passwordInput
              formControlName="password"
              id="password"
              type="password"
              placeholder="Contraseña"
              class="form-input w-full border py-3 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <span
              class="inline-flex items-center px-3 bg-white border border-l-0 rounded-r-md cursor-pointer"
              (click)="showPassword()"
              [title]="spanButtonTitle"
            >
              <fa-icon [icon]="iconEye"></fa-icon>
            </span>
          </div>

          @if (loginForm.get('password')?.invalid &&
          loginForm.get('password')?.touched) {
          <div>
            @if (loginForm.get('password')?.errors?.['required']) {
            <small class="text-red-500">La contraseña es obligatoria.</small>
            } @else if (loginForm.get('password')?.errors?.['minlength']) {
            <small class="text-red-500"
              >La contraseña debe tener un mínimo de 8 caracteres.</small
            >
            }
          </div>
          }

          @if(messageError && messageError != ''){
            <small class="text-red-500">{{ messageError }}</small>
          }
        </div>

        <button
          class="btn btn-lg bg-blue-500 text-white w-full py-3 rounded-md"
          [disabled]="loginForm.invalid"
          type="submit"
        >
          Iniciar sesión
        </button>
      </form>

      <p class="text-gray-500 mb-3">
        ¿Olvidaste tu contraseña? Restablece tu contraseña
        <a
          href="#"
          class="text-blue-500 font-bold"
        >
          Aquí
        </a>
      </p>
      <p class="text-gray-500 mb-3">
        ¿No estás registrado?
        <a class="text-blue-500 font-bold" routerLink="/auth/register">
          Regístrate
        </a>
      </p>
      <p class="text-gray-500 mb-3">
        Si deseas conocer tu usuario y contraseña y poder cotizar<br/>
        a todos nuestros clientes llama o escribe al <a class="text-green-500 font-semibold" style="text-decoration: underline;" href="https://wa.me/573160547464?text=Hola,%20deseo%20conocer%20mi%20usuario%20y%20contraseña%20para%20poder%20cotizar">WhatsApp 3160547464</a>.
      </p>
    </div>
  </div>

  <app-footer></app-footer>
</div>
